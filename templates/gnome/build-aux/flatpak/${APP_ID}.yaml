app-id: ${APP_ID}
runtime: org.gnome.Platform
runtime-version: master
sdk: org.gnome.Sdk

command: ${APP_NAME}
finish-args:
- --share=ipc
- --socket=fallback-x11
- --socket=wayland
- --device=dri

cleanup:
- /include
- /lib/pkgconfig
- /share/pkgconfig
- /man
- /share/doc
- /share/vala
- /share/vala-*
- '*.la'
- '*.a'

modules:

# Libadwaita dependencies

- name: libsass
  buildsystem: meson
  sources:
  - type: git
    url: https://github.com/lazka/libsass.git
    branch: meson

- name: sassc
  buildsystem: meson
  sources:
  - type: git
    url: https://github.com/lazka/sassc.git
    branch: meson

# Biography dependencies

- name: libadwaita
  buildsystem: meson
  config-opts:
  - -Dexamples=false
  - -Dtests=false
  sources:
  - type: git
    url: https://gitlab.gnome.org/GNOME/libadwaita.git
    branch: main

# Biography itself

- name: ${APP_NAME}
  builddir: true
  buildsystem: meson
  sources:
  - type: dir
    path: ../..
